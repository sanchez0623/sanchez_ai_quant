"""
第3周-Part1：2025年主流AI大模型选型对比（最新版）
=================================================
选模型就像选员工——不同岗位需要不同的人
数据更新至 2025年Q1
"""

import pandas as pd

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 1.1 主流模型横向对比（2025年最新）
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

models = pd.DataFrame([
    {
        "模型": "DeepSeek-V3 (0324)",
        "厂商": "深度求索 (中国)",
        "架构": "671B MoE (激活37B)",
        "上下文窗口": "128K",
        "中文能力": "⭐⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "¥1",
        "输出价格(¥/百万Token)": "¥2",
        "需翻墙": "❌ 不需要",
        "定位": "日常分析/代码生成，性价比之王",
    },
    {
        "模型": "DeepSeek-R1 (0528)",
        "厂商": "深度求索 (中国)",
        "架构": "671B MoE + RL强化推理",
        "上下文窗口": "128K",
        "中文能力": "⭐⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "¥4",
        "输出价格(¥/百万Token)": "¥16",
        "需翻墙": "❌ 不需要",
        "定位": "复杂逻辑/数学推理，思维链深度最强",
    },
    {
        "模型": "Qwen3-Max (通义千问3)",
        "厂商": "阿里云 (中国)",
        "架构": "~1000B MoE, 119种语言",
        "上下文窗口": "128K",
        "中文能力": "⭐⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐⭐",
        "输入价格(��/百万Token)": "¥10~80",
        "输出价格(¥/百万Token)": "¥30~120",
        "需翻墙": "❌ 不需要",
        "定位": "多语言/Agent场景/开源生态最活跃",
    },
    {
        "模型": "Qwen3-Flash",
        "厂商": "阿里云 (中国)",
        "架构": "MoE 轻量版",
        "上下文窗口": "128K",
        "中文能力": "⭐⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "¥1",
        "输出价格(¥/百万Token)": "¥4",
        "需翻墙": "❌ 不需要",
        "定位": "轻量高速，大批量调用首选",
    },
    {
        "模型": "豆包 Seed-1.6",
        "厂商": "字节跳动 (中国)",
        "架构": "MoE 多模态",
        "上下文窗口": "256K",
        "中文能力": "⭐⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "¥1",
        "输出价格(¥/百万Token)": "¥4",
        "���翻墙": "❌ 不需要",
        "定位": "多模态(图片/视频)，价格极低，全球用户量第二",
    },
    {
        "模型": "GPT-4.1",
        "厂商": "OpenAI (美国)",
        "架构": "万亿级参数 MoE",
        "上下文窗口": "1M",
        "中文能力": "⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "~¥56 ($8)",
        "输出价格(¥/百万Token)": "~¥210 ($30)",
        "需翻墙": "✅ 需要",
        "定位": "综合能力天花板，企业级集成生态最成熟",
    },
    {
        "模型": "GPT-4.1-mini",
        "厂商": "OpenAI (美国)",
        "架构": "轻量蒸馏版",
        "上下文窗口": "1M",
        "中文能力": "⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "~¥14 ($2)",
        "输出价格(¥/百万Token)": "~¥56 ($8)",
        "需翻墙": "✅ 需要",
        "定位": "GPT性价比版，日常任务够用",
    },
    {
        "模型": "Claude 4 Sonnet",
        "厂商": "Anthropic (美国)",
        "架构": "双模态推理",
        "上下文窗口": "200K",
        "中文能力": "⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "~¥56 ($8)",
        "输出价格(¥/百万Token)": "~¥170 ($24)",
        "需翻墙": "✅ 需要",
        "定位": "安全合规/法律金融/长文分析，推理与速度可调档",
    },
    {
        "模型": "Claude 4 Haiku",
        "厂商": "Anthropic (美国)",
        "架构": "轻量版",
        "上下文窗口": "200K",
        "中文能力": "⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "~¥10 ($1.5)",
        "输出价格(¥/百万Token)": "~¥35 ($5)",
        "需翻墙": "✅ 需要",
        "定位": "Claude性价比版，轻量快速",
    },
    {
        "模型": "Gemini 2.5 Pro",
        "厂商": "Google (美国)",
        "架构": "原生多模态 MoE",
        "上下文窗口": "1M~2M",
        "中文能力": "⭐⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "~¥8",
        "输出价格(¥/百万Token)": "~¥30",
        "需翻墙": "✅ 需要",
        "定位": "超长上下文之王(2M)，多模态最强，Google生态整合",
    },
    {
        "模型": "Gemini 2.5 Flash",
        "厂商": "Google (美国)",
        "架构": "轻量多模态",
        "上下文窗口": "1M",
        "中文能力": "⭐⭐⭐",
        "代码能力": "⭐⭐⭐⭐",
        "推理能力": "⭐⭐⭐⭐",
        "输入价格(¥/百万Token)": "~¥1",
        "输出价格(¥/百万Token)": "~¥4",
        "需翻墙": "✅ 需要",
        "定位": "Gemini性价比版，大批量多模态场景",
    },
])

print("📊 2025年主流AI大模型对比（更新至2025年Q1）")
print("=" * 100)
# 分两部分打印，避免太宽
print("\n🔹 基本信息：")
print(models[["模型", "厂商", "架构", "上下文窗口", "需翻墙"]].to_string(index=False))

print("\n🔹 能力评级：")
print(models[["模型", "中文能力", "代码能力", "推理能力"]].to_string(index=False))

print("\n🔹 价格与定位：")
print(models[["模型", "输入价格(¥/百万Token)", "输出价格(¥/百万Token)", "定位"]].to_string(index=False))


# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 1.2 价格可视化对比（直观感受差距）
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

print("""
💰 输入价格直观对比（¥/百万Token，越短越便宜）:

  DeepSeek-V3     ¥1    █
  Qwen3-Flash     ¥1    █
  豆包 Seed-1.6   ¥1    █
  Gemini 2.5 Flash¥1    █
  DeepSeek-R1     ¥4    ████
  Gemini 2.5 Pro  ¥8    ████████
  Claude 4 Haiku  ¥10   ██████████
  GPT-4.1-mini    ¥14   ██████████████
  GPT-4.1         ¥56   ████████████████████████████████████████████████████████
  Claude 4 Sonnet ¥56   ████████████████████████████████████████████████████████

  💡 结论：国产模型(DeepSeek/Qwen/豆包)价格是GPT/Claude的 1/14~1/56 ！
""")


# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 1.3 量化场景选型建议（2025最新）
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

print("=" * 80)
print("💡 量化投资场景 → 模型选型建议")
print("=" * 80)

recommendations = pd.DataFrame([
    {
        "使用场景": "日常行情分析/问答",
        "首选模型": "DeepSeek-V3",
        "备选模型": "Qwen3-Flash / 豆包",
        "原因": "便宜(¥1)+中文好+不用翻墙，日常完全够用",
    },
    {
        "使用场景": "复杂投资逻辑推理",
        "首选模型": "DeepSeek-R1",
        "备选模型": "Qwen3-Max",
        "原因": "R1思维链推理最强，数学/逻辑能力顶级",
    },
    {
        "使用场景": "量化策略Python代码生成",
        "首选模型": "DeepSeek-V3",
        "备选模型": "Qwen3-Max / GPT-4.1",
        "原因": "代码能力顶级，DeepSeek性价比碾压",
    },
    {
        "使用场景": "财报/研报长文本分析",
        "首选模型": "Gemini 2.5 Pro",
        "备选模型": "Claude 4 Sonnet / 豆包",
        "原因": "Gemini 2M窗口可塞整份年报，Claude长文理解好",
    },
    {
        "使用场景": "多模态(图片/图表分析)",
        "首选模型": "豆包 Seed-1.6",
        "备选模型": "Gemini 2.5 Pro",
        "原因": "豆包多模态原生支持，价格极低(¥1)",
    },
    {
        "使用场景": "批量数据处理(成本敏感)",
        "首选模型": "DeepSeek-V3",
        "备选模型": "Qwen3-Flash / Gemini Flash",
        "原因": "¥1/百万Token，批量跑1万条也才几块钱",
    },
    {
        "使用场景": "AI Agent自动化交易助手",
        "首选模型": "Qwen3-Max",
        "备选模型": "DeepSeek-V3 / GPT-4.1",
        "原因": "Qwen3 Agent场景优化最好，工具调用能力强",
    },
    {
        "使���场景": "私有化本地部署",
        "首选模型": "DeepSeek-R1 (开源)",
        "备选模型": "Qwen3 (开源)",
        "原因": "两者都完全开源开放权重，可本地部署零API费用",
    },
])

print(recommendations.to_string(index=False))


# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 1.4 关键术语解释
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

print("""
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📖 本页涉及的术语解释：

🔹 MoE (Mixture of Experts，混合专家模型)
   模型有很多"专家模块"，但每次推理只激活一小部分。
   例：DeepSeek-V3 有671B参数，但每次只用37B参与计算。
   好处：模型能力强，但实际运算量小 → 又强又便宜。
   类比：公司有671个员工，每个项目只调37人参与。

🔹 RL (Reinforcement Learning，强化学习)
   DeepSeek-R1 的训练方法。不只是"学数据"，
   还通过"自我对弈/纠错"来提升推理能力。
   类比：不只看棋谱学下棋，还自己跟自己下无数盘棋来进步。

🔹 蒸馏 (Distillation)
   用一个大模型(老师)来训练一个小模型(学生)。
   GPT-4.1-mini 就是从 GPT-4.1 蒸馏出来的。
   好处：小模型又快又便宜，但保留了大模型80-90%的能力。
   
🔹 多模态 (Multi-Modal)
   模型能同时理解文字、图片、音频、视频等多种信息。
   豆包和Gemini在这方面最强。
   量化场景：可以让AI直接"看"K线图来分析。

🔹 上下文窗口 (Context Window)
   模型一次能处理的最大文本量。
   128K ≈ 约10万字（够分析几十篇研报）
   1M  ≈ 约75万字（够塞一整本书）
   2M  ≈ 约150万字（Gemini独有，可塞多年财报）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
""")


# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 1.5 本课程选择
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

print("""
🎯 本课程主力模型：DeepSeek-V3 / DeepSeek-R1

   选择理由（2025年综合考量）：
   ┌─────────────────────────────────────────────────┐
   │ 1. 不需要翻墙（国内直连，Qwen/豆包也可以）         │
   │ 2. 价格极低（¥1-4/百万Token，学习阶段月费<¥20）   │
   │ 3. 中文能力顶级（我们主要分析A股）                 │
   │ 4. 代码能力顶级（量化策略代码生成）                │
   │ 5. API兼容OpenAI格式（学会后可一行切换其他模型）   │
   │ 6. 完全开源（后续可本地部署，零成本）              │
   └─────────────────────────────────────────────────┘

   同时：
   • 第18周 Agent 开发时，会教你做"多模型路由"
     → 简单任务用 DeepSeek-V3（便宜）
     → 复杂推理用 DeepSeek-R1（更强）
     → 长文分析可切换 Gemini/Claude
   
   • quant_core/ai/llm_client.py 的架构已预留了
     多模型切换能力，后续扩展非常容易
""")


# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 1.6 API入口汇总（方便你注册）
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

api_links = pd.DataFrame([
    {"模型": "DeepSeek",    "API平台": "platform.deepseek.com",         "需翻墙": "❌", "备注": "本课程主力，注册送额度"},
    {"模型": "Qwen (通义)",  "API平台": "dashscope.aliyun.com",          "需翻墙": "❌", "备注": "阿里云，有免费额度"},
    {"模型": "豆包 (火山)",  "API平台": "console.volcengine.com/ark",    "需翻墙": "❌", "备注": "字节跳动，价格极低"},
    {"模型": "OpenAI",      "API平台": "platform.openai.com",           "需翻墙": "✅", "备注": "需要Visa信用卡"},
    {"模型": "Claude",      "API平台": "console.anthropic.com",         "需翻墙": "✅", "备注": "需要海外手机号"},
    {"模型": "Gemini",      "API平台": "aistudio.google.com",           "需翻墙": "✅", "备注": "有免费额度"},
])

print("\n📋 主流模型API注册入口：")
print(api_links.to_string(index=False))

print("""
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
💡 建议至少注册以下两个（覆盖99%场景）：
   1. DeepSeek  → 主力（本课程所有代码默认用它）
   2. Qwen 通义 → 备用（万一DeepSeek服务繁忙时切换）
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
""")
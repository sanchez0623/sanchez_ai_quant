"""
第3周 术语卡片
==============
本周所有新术语集中在这里，先读懂再写代码
"""

GLOSSARY = {

    # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    # AI模型相关
    # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    "LLM (Large Language Model)": """
        大语言模型。用海量文本训练的AI模型，能理解和生成人类语言。
        类比：一个读过几乎所有书籍的"超级大脑"，你问它问题，它根据
        所学知识"接龙"出回答。
        代表：GPT-4、Claude、DeepSeek、Gemini
    """,

    "API (Application Programming Interface)": """
        应用程序编程接口。简单说就是"程序之间的对话方式"。
        类比：你去餐厅，不需要进厨房做菜，只需要通过"菜单"（API文档）
        点菜（发请求），服务员（API服务器）把菜（结果）端给你。
        我们用API调用DeepSeek，就是"把问题发过去，把AI的回答拿回来"。
    """,

    "Token（词元）": """
        LLM处理文本的最小单位。不等于"字"或"词"。
        中文：1个汉字 ≈ 1-2个Token
        英文：1个单词 ≈ 1-3个Token
        为什么重要？API按Token计费！Token越多越贵。
        例："贵州茅台" ≈ 3-4个Token
    """,

    "Tokenizer（分词器）": """
        把文本切分成Token的工具。每个模型有自己的Tokenizer。
        类比：不同语言有不同的"拼读规则"，Tokenizer就是这个规则。
    """,

    "Temperature（温度）": """
        控制AI回答的"随机程度"，范围通常0~2。
        temperature=0: 每次回答一样，最确定，适合数据分析
        temperature=0.7: 有一些创意，适合写策略思路
        temperature=1.5: 非常随机，可能胡说八道
        量化场景推荐：0~0.3（我们要精确，不要创意）
    """,

    "Context Window（上下文窗口）": """
        模型一次对话能"记住"的最大Token数。
        类比：人的"工作记忆"容量。窗口越大，能分析的文本越长。
        DeepSeek-V3: 128K tokens ≈ 约10万字
        意味着：你可以一次性丢一整年的研报让它分析。
    """,

    "Prompt（提示词）": """
        你发给AI的"指令"。Prompt的质量直接决定AI输出的质量。
        好Prompt = 角色 + 上下文 + 任务 + 输出格式 + 约束条件
    """,

    "System Prompt（系统提示词）": """
        在对话开始时给AI设定的"人设"和"规则"。
        类比：你招了一个新员工，System Prompt就是他的"岗位说明书"，
        告诉他"你是谁、你擅长什么、你的工作规范是什么"。
        用户看不到System Prompt，但它影响AI的所有回答。
    """,

    "Few-shot / Zero-shot / One-shot": """
        告诉AI多少个"示例"：
        Zero-shot: 不给示例，直接问 → "分析这只股票"
        One-shot:  给1个示例 → "像这样分析：[例子]，现在分析这只"
        Few-shot:  给几个示例 → "参考这3个例子，分析这只"
        给的示例越多，AI输出格式越精确，但消耗Token也越多。
    """,

    "Structured Output（结构化输出）": """
        让AI以固定格式（JSON/表格）输出，而不是自由文本。
        为什么重要？量化系统需要程序自动解析AI的回答，
        自由文本很难解析，JSON可以直接 json.loads() 变成字典。
    """,

    "RAG (Retrieval-Augmented Generation)": """
        检索增强生成。让AI在回答前先"查资料"。
        问题：AI的知识有截止日期，不知道最新财报。
        解决：先从数据库检索相关文档，塞进Prompt里，再让AI回答。
        第18周我们会用RAG构建"投资理财知识库"。
    """,

    "Hallucination（幻觉）": """
        AI一本正经地胡说八道——编造不存在的数据、论文、事实。
        在量化中非常危险！AI可能编造一个不存在的财务指标。
        应对：永远不要直接信任AI给出的数字，用程序计算验证。
    """,

    "Function Calling / Tool Use（函数调用/工具使用）": """
        让AI不仅能"说话"，还能"动手"——调用你预定义的函数。
        例：AI判断需要查行情 → 自动调用 fetch_stock("600519") → 
        拿到真实数据 → 再基于数据分析。
        这是AI Agent的核心能力，第18周会深入。
    """,

    # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    # 量化相关（本周新增）
    # ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    "AI Arena": """
        AI竞技场。一个对比不同AI模型能力的平台（如 lmarena.ai）。
        用户提问，两个匿名模型回答，用户投票选更好的，最终得出排名。
        帮你选择：哪个模型最适合做量化分析。
    """,

    "多模型路由（Multi-Model Routing）": """
        根据不同任务，自动选择最合适的AI模型。
        例：简单行情查询 → 用便宜的DeepSeek
            复杂策略推理 → 用强大的Claude/GPT-4
        目的：在效果和成本之间取得平衡。
    """,
}

# 打印所有术语
if __name__ == "__main__":
    print("📖 第3周术语卡片")
    print("=" * 60)
    for term, explanation in GLOSSARY.items():
        print(f"\n🔹 {term}")
        for line in explanation.strip().split("\n"):
            print(f"   {line.strip()}")
        print("   " + "─" * 50)
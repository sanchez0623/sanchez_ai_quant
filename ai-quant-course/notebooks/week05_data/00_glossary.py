# -*- coding: utf-8 -*-
"""
第5周 术语卡片
"""

GLOSSARY = {

    "时间序列 (Time Series)": """
        按时间顺序排列的数据序列.
        例: 茅台每天的收盘价, 从2020-01-01到2025-12-31, 就是一个时间序列.
        特点: 相邻数据点之间有关联(今天的价格和昨天有关系).
        金融数据几乎都是时间序列, 所以掌握时间序列处理 = 掌握金融数据处理.
    """,

    "OHLCV": """
        金融行情数据的5个核心字段:
          O = Open   开盘价 (当天第一笔交易的价格)
          H = High   最高价 (当天交易的最高价格)
          L = Low    最低价 (当天交易的最低价格)
          C = Close  收盘价 (当天最后一笔交易的价格, 最重要!)
          V = Volume 成交量 (当天交易了多少股)
        这5个字段是所有技术分析的基础数据.
    """,

    "复权 (Adjustment)": """
        股票会分红、送股、拆股, 导致价格"断裂".
        例: 茅台10送1, 股价从1000变成909, 但你的总资产没变.
        如果不处理, K线图上会出现一个"假的暴跌".
        前复权(qfq): 把历史价格调低, 让最新价格是真实价格. 适合看当前走势.
        后复权(hfq): 把当前价格调高, 让历史价格是真实价格. 适合计算长期收益.
        不复权: 原始价格, 有"断裂", 一般不用.
        我们课程统一用前复权(qfq).
    """,

    "停牌 (Trading Halt)": """
        股票暂停交易, 当天没有行情数据.
        原因: 重大事项(重组/并购)、异常波动、信息披露等.
        处理方式: 停牌期间的价格用前一个交易日的收盘价填充(ffill).
        成交量填0(确实没有交易).
    """,

    "涨跌停 (Price Limit)": """
        A股特有制度, 限制单日最大涨跌幅.
        主板: +/-10%    (如茅台)
        创业板/科创板: +/-20%  (如宁德时代)
        ST股票: +/-5%
        量化中的影响:
          涨停 = 买不到(卖单全部被吃掉, 封板)
          跌停 = 卖不掉(买单全部撤走)
          回测中必须处理这个限制, 否则结果失真.
    """,

    "换手率 (Turnover Rate)": """
        当天交易的股数 / 总流通股数 * 100%.
        衡量股票的"交易活跃度".
        换手率 < 1%: 交易冷清, 可能流动性差
        换手率 1-3%: 正常水平
        换手率 3-7%: 较活跃
        换手率 > 10%: 异常活跃, 可能有重大事件或主力资金进出
    """,

    "财��三大报表": """
        1. 资产负债表 (Balance Sheet):
           公司"有什么"(资产) 和 "欠什么"(负债) 的快照.
           资产 = 负债 + 股东权益 (会计恒等式)

        2. 利润表 (Income Statement):
           公司"赚了多少钱"的流水账.
           营收 - 成本 - 费用 - 税 = 净利润

        3. 现金流量表 (Cash Flow Statement):
           公司"真实的钱进钱出".
           利润表可以通过会计手段美化, 但现金流不会骗人.
           "利润是观点, 现金流是事实" -- 华尔街名言.
    """,

    "PE (Price-to-Earnings Ratio, 市盈率)": """
        股价 / 每股收益.
        含义: "按当前盈利水平, 多少年能回本".
        PE=20: 意味着按当前利润, 20年回本.
        PE越低: 越"便宜"(但可能是因为市场不看好它)
        PE越高: 越"贵"(但可能是因为市场预期它高增长)
        第9周会深入学习.
    """,

    "PB (Price-to-Book Ratio, 市净率)": """
        股价 / 每股净资产.
        含义: "市场愿意为公司1块钱的资产支付多少钱".
        PB=1: 股价 = 净资产(理论上买了不亏)
        PB<1: 股价低于净资产("破净", 可能有投资价值)
        PB>5: 市场认为公司的无形资产(品牌/技术)很值钱
    """,

    "数据频率": """
        数据的时间间隔:
          tick:   每一笔交易(毫秒级), 高频交易用
          1min:   1分钟线, 日内交易用
          daily:  日线, 最常用, 我们课程主力
          weekly: 周线, 中长期趋势分析
          monthly:月线, 长期趋势分析
        频率越高, 数据量越大, 噪音也越多.
    """,
}

if __name__ == "__main__":
    print("=" * 60)
    print("  第5周术语卡片 -- 金融数据")
    print("=" * 60)
    for term, explanation in GLOSSARY.items():
        print(f"\n  {term}")
        for line in explanation.strip().split("\n"):
            print(f"    {line.strip()}")
        print("    " + "-" * 50)